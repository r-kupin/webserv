#-------------------------------------------------------------------------------
# www
# ├── loc_1
# │   ├── index.html
# │   └── loc_1_1
# │       └── index.html
# ├── loc_2
# │   ├── index.html
# │   └── loc_2_2
# │       └── index.html
# └── loc_3
#     ├── index.html
#     └── loc_3_3
#         └── index.html
#-------------------------------------------------------------------------------
# GET:
# /loc_1/           | 403 |               | access forbidden by rule
# /loc_1/loc_1_1/   | 200 | loc_1_1 index |
# /loc_2/           | 403 |               | access forbidden by rule
# /loc_2/loc_2_2/   | 200 | loc_2_2 index |
# /loc_3/           | 200 | loc_3 index   |
# /loc_3/loc_3_3/   | 200 | loc_3_3 index |
# POST:
# /loc_1/           | 405 |
# /loc_1/loc_1_1/   | 405 |
# /loc_2/           | 405 |
# /loc_2/loc_2_2/   | 405 |
# /loc_3/           | 405 |
# /loc_3/loc_3_3/   | 405 |
#-------------------------------------------------------------------------------
server {
        listen 4280;
        server_name localhost;
#         root /var/www; # real nginx
        root test_resources/limit_except/www; # webserv

        location /loc_1 {
                limit_except POST {
                        deny all;
                }
        }

        location /loc_1/loc_1_1 {}

        location /loc_2 {
                index index.html;
                limit_except POST {
                        deny all;
                }
        }

        location /loc_2/loc_2_2 {}

        location /loc_3 {
                limit_except POST {
                        allow all;
                }
        }

        location /loc_3/loc_3_3 {}
}